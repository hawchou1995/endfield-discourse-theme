// 文件: mobile/mobile.scss

// ============================================
// 移动端终末地风格深度优化 (Endfield Mobile Refined)
// ============================================

// 1. 全局去圆角 - 回归硬朗工业风
// 截图显示很多元素有圆角，这里强制直角化以符合主题设定
:root {
  --d-border-radius: 0px !important; // 覆盖 Discourse 默认圆角变量
}

// 2. 话题列表卡片优化 (针对截图 1)
.topic-list tr {
  border-radius: 0 !important; // 移除卡片圆角
  border: 1px solid var(--primary-low); // 细边框
  border-left: 4px solid var(--quaternary) !important; // 左侧增加橙色强识别条(终末地特征)
  margin-bottom: 8px !important; // 减小卡片间距，更紧凑
  background: var(--secondary);
  box-shadow: 2px 2px 0px rgba(0, 0, 0, 0.1) !important; // 改为硬阴影，而非柔和阴影
  
  // 调整卡片内部间距
  td {
    padding: 10px !important;
  }
}

// 3. 顶部横幅优化 (针对截图 1 & 3)
// 那个蓝色的"真诚、友善..."横幅在手机上太占地了
.global-notice, .alert.alert-info {
  border-radius: 0 !important;
  margin-bottom: 10px !important;
  padding: 8px 12px !important; // 减小内边距
  font-size: 0.9em; //稍微调小字体
  border-left: 3px solid var(--tertiary); // 蓝色左边框呼应科技感
}

// 4. 侧边栏优化 (针对截图 2)
// 让侧边栏更像是一个 HUD (战术面板)
.sidebar-wrapper {
  // 侧边栏发帖按钮
  .endfield-sidebar-create-btn {
    border-radius: 0 !important;
    background: var(--quaternary) !important; // 橙色背景
    color: #fff !important;
    font-weight: bold;
    box-shadow: 0 4px 0 #b33e14; // 按钮立体感
    margin: 10px;
    width: calc(100% - 20px); // 留出边距
    
    // 按钮文字
    .d-button-label {
      color: #fff !important;
    }
  }

  // 侧边栏菜单项
  .sidebar-section-link-wrapper .sidebar-section-link {
    border-radius: 0 !important; // 移除选中项的圆角
    
    // 选中状态增加左侧高亮
    &.active {
      background: var(--primary-very-low);
      border-left: 3px solid var(--tertiary);
      font-weight: bold;
    }
  }
}

// 5. 帖子详情页优化 (针对截图 3)
.topic-post {
  article.boxed {
    border-radius: 0 !important; // 移除帖子内容框圆角
  }
  
  // 楼主头像旁的元数据区域
  .topic-meta-data {
    align-items: center;
    padding-bottom: 8px;
    border-bottom: 1px dashed var(--primary-low); // 增加虚线分割，更有科技感
    margin-bottom: 10px;
  }
  
  // 引用块优化
  blockquote {
    border-left: 3px solid var(--tertiary); // 蓝色引用条
    background: var(--primary-very-low);
    border-radius: 0;
  }
}

// 6. 导航栏微调
.d-header {
  box-shadow: 0 2px 5px rgba(0,0,0,0.2); // 稍微加深头部阴影，分离层级
  border-bottom: 2px solid var(--tertiary); // 顶部增加一条亮色线，像 HUD 边界
}

// 7. 隐藏不需要的元素 (可选)
// 如果觉得底部的"外部链接"区域太挤，可以调整它的间距
.sidebar-section-header {
  padding-top: 15px !important;
  font-size: 0.85em;
  opacity: 0.8;
  text-transform: uppercase;
}
